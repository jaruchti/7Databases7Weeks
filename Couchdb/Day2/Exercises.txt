1) We've seen that the emit method can output keys that are strings.  What other types of values does it support? What happens when you emit an array of values as a key?

The key can be any any arbritrary JSON value.  When the key is an array, view results can be grouped by a sub-section of the key.  For example, if keys have the form [year, month, day] then results can reduced to a single value or by year, month, or day.

2) Find a list of available URL parameters (like limit and startkey) that can be appended to view requests and what they do.

The list can be found here: http://wiki.apache.org/couchdb/HTTP_view_API#View_Generation_Options 

3) The import script import_from_jamendo.rb assigned a random number to each artist by adding a property called random.  Create a mapper function that will emit key-value pairs where the key is the random number and the value is the band's name.  Save this in a new design document named _design/random with the view name artist.

function(doc) {
  if ('random' in doc && 'name' in doc) {
    emit( doc.random, doc.name);
  }
}

4) Craft a cURL request that will retrieve a random artist.

curl http://localhost:5984/music/_design/random/_view/artist?startkey=`ruby -e 'puts rand'`&limit=1

5) The import script also added a random property for each album, track, and tag.  Create three additional views in the _design/random design document with the view names album, track, and tag to match the earlier artist view.

// Function to create the album view
function(doc) {
  if ( 'albums' in doc ){
    doc.albums.forEach(function(album){
      if ( 'random' in album && 'name' in album ){
        emit(album.random, album.name);
      }
    });
  }
}

// Function to create the track view
function(doc) {
  if ( 'albums' in doc ){
    doc.albums.forEach(function(album){
      if ( 'tracks' in album ){
        album.tracks.forEach(function(track){
          if ( 'random' in track && 'name' in track ){
            emit( track.random, track.name );
          }
        });
      }
    });
  }
}

// Function to create the tag view
function(doc) {
  if ( 'albums' in doc ){
    doc.albums.forEach(function(album){
      if ( 'tracks' in album && 'name' in album ){
        album.tracks.forEach(function(track){
          if ( 'tags' in track && 'name' in track ){
            track.tags.forEach(function(tag){
              if ( 'random' in tag && 'idstr' in tag ){
                var value = { album : album.name,
                              track: track.name,
                              tag: tag.idstr };
                emit( tag.random, value );
              }
            });
          }
        });
      }
    });
  }
}
